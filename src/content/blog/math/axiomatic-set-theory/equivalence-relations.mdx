---
title: "Lý thuyết tập hợp tiên đề 4.1: Quan hệ tương đương"
pubDate: 2024-04-27
intro: Quan hệ tương đương là một mô hình cho sự phân hoạch các đối tượng cho cùng một tính chất trong một tập hợp. Trong khi đó thứ tự là một mô hình cho sự so sánh hoặc vị trí của các phần tử trong một tập hợp.
tags: ["math", "set theory"]
author: clown
image: ../../../../assets/set-theory.jpeg
---
import Axiom from "../../../../components/math/Axiom.astro";
import Theorem from "../../../../components/math/Theorem.astro";
import Lemma from "../../../../components/math/Lemma.astro";
import Proposition from "../../../../components/math/Proposition.astro";
import Corollary from "../../../../components/math/Corollary.astro";

### 1. Quan hệ tương đương

Một quan hệ $R$ được gọi là:
1. **phản xạ** (reflexive) trên tập hợp $A$ nếu như với mọi $a\in A$ ta có $aRa$.
2. **đối xứng** (symmetric) nếu như với mọi $a, b$ ta có $aRb$ suy ra $bRa$.
3. **bắc cầu** (transitive) nếu như với mọi $a, b, c$ ta có $aRb$ và $bRc$ suy ra $aRc$.

Một $R$ được gọi là một **quan hệ tương đương** (equivalence relation) nếu như nó có tính đối xứng và bắc cầu.

<Theorem identifier="1">
  Nếu $R$ là một quan hệ tương đương, ta có:
  1. $\text{dom}(R) = \text{rng}(R)$.
  2. $R$ phản xạ trên $\text{dom}(R)$.
</Theorem>

Ta nói $R$ là một quan hệ tương đương trên tập hợp $A$ nếu $R$ là một quan hệ tương đương và $A = \text{dom}(R)$.

Giả sử $R$ là một quan hệ tương đương trên tập hợp $A$. Với mỗi $x\in A$, ta định nghĩa **lớp tương đương** (equivalence class) của $x$ theo modulo $R$, ký hiệu $\left[x\right]_R$, bởi:
<p>
$$
\left[x\right]_R = R\left[\{x\}\right] = \left\{y : xRy\right\}
$$
</p>
Tập hợp tất các lớp tương đương theo modulo $R$ được gọi là **tập thương** (quotient set) của quan hệ tương đương $R$, ký hiệu bởi $A / R$, xác định bởi:
<p>
$$
A / R = \left\{[x]_R : x\in A\right\}
$$
</p>
Ánh xạ $\pi: A\to A/R$ được xác định bởi $\pi(x) = \left[x\right]_R$ được gọi là **phép chiếu chính tắc** (canonical projection) hay **phép chiếu tự nhiên** (natural projection).

Ta thấy rằng phép chiếu chính tắc luôn là một toàn ánh.

<Theorem identifier="2">
  Cho $R$ là một quan hệ tương đương trên tập hợp $A$. Với mọi $x, y\in A$, các điều sau là tương đương nhau:
  1. $xRy$.
  2. $\left[x\right]_R = \left[y\right]_R$.
  3. $\left[x\right]_R \cap \left[y\right]_R \ne \varnothing$.
</Theorem>

Một **phân hoạch** (partition) trên tập hợp $A$ là một tập hợp $P$ các tập hợp con khác rỗng của $A$ thỏa mãn hai điều kiện sau:
1. $\bigcup P = A$, hay với mọi $x\in A$, tồn tại $C\in P$ sao cho $x\in C$.
2. Các tập hợp trong $P$ là **đôi một** (pairwise) **không giao nhau** (disjoint), nghĩa là với mọi $C, D\in P$ ta có $C = D$ hoặc $C\cap D = \varnothing$.

[Tính phản xạ](#theorem-1) cùng với [định lý 2](#theorem-2) cho thấy tập thương $A / R$ của quan hệ tương đương $R$ trên $A$ là một phân hoạch của $A$.

Ở chiều ngược lại, giả sử $P$ là một phân hoạch của $A$, khi đó tập hợp:
<p>
$$
R = \left\{\left< x, y \right> \in A\times A : \left(\exists C\in P\right)x, y\in C\right\}
$$
</p>
là một quan hệ tương đương trên $A$, hơn nữa $P$ chính là tập thương của quan hệ này.

<Theorem identifier="3">
  "Quan hệ tương đương" và "phân hoạch" là hai khái niệm tương đương nhau. Cụ thể với $A$ là một tập hợp, quy tắc $R \mapsto A/R$ xác định một song ánh từ tập hợp tất cả các quan hệ tương đương trên $A$ vào tập hợp tất cả các phân hoạch trên $A$.
</Theorem>

### 2. Tính tương thích

Trong nhiều trường hợp, ta muốn định nghĩa các quy tắc trên các lớp tương đương.
Lấy ví dụ, với $G, H$ là các nhóm và $\varphi: G\to H$ là một đồng cấu, ta định nghĩa một ánh xạ $\overline{\varphi}: G/\ker \varphi \to H$ bởi $\overline{\varphi}\left(\overline{x}\right) = \varphi(x)$ với mọi $x\in G$.
Người ta nói rằng định nghĩa trên là xác định tốt, nghĩa là với quy tắc trên thực sự định nghĩa một ánh xạ. Ở phần này, ta sẽ tìm hiểu về tính xác định tốt khi định nghĩa ánh xạ trên tập thương.

Cho $A, B$ là các tập hợp, $R$ là một quan hệ tương đương trên $A$. Ánh xạ $F: A\to B$ được gọi là:
1. **tương thích** (compatible) với $R$ nếu như $f(x) = f(y)$ với mọi $x, y\in A$ mà $xRy$.
2. **tương thích mạnh** (strongly compatible) với $R$ nếu như với mọi $x, y\in A$ ta có $xRy$ khi và chỉ khi $f(x) = f(y)$.

<Theorem identifier="4">
  Cho $A, B$ là các tập hợp, $R$ là một quan hệ tương đương trên $A$, và một ánh xạ $F: A\to B$. Khi đó hai điều sau tương đương nhau:
  1. Ánh xạ $F$ tương thích với $R$.
  2. Tồn tại một ánh xạ $G: A/R\to B$ thỏa mãn với mọi $x\in A$ ta có:
  <p>
  $$
  G\left(\left[x\right]_R\right) = F(x)
  $$
  </p>

  Nếu ánh xạ $G$ nêu trên là tồn tại, nó là tồn tại duy nhất.
</Theorem>

***Chứng minh.***

*Chiều thuận.* Giả sử ánh xạ $F$ tương thích với $R$. Xét ánh xạ $G: A/R\to B$ được xác định bởi:
<p>
$$
G = \left\{\left< \left[x\right]_R, F(x) \right> : x\in A\right\}
$$
</p>

Giả sử $\left< \left[x\right]_R, F(x) \right>, \left< \left[y\right]_R, F(y) \right>\in G$ với $x,y\in A$ và $\left[x\right]_R = \left[y\right]_R$.
Suy ra $xRy$, theo tính tương thích với $R$ của $F$ ta suy ra $F(x) = F(y)$.

Do đó $G$ là một quy tắc gán.

Với mọi $x\in A$, ta có $\left< \left[x\right]_R, F(x) \right> \in G$ nên $G\left(\left[x\right]_R\right) = F(x)$.

*Chiều đảo.* Giả sử $G: A/R\to B$ là một ánh xạ mà với mọi $x\in A$ ta có:
<p>
$$
G\left(\left[x\right]_R\right) = F(x)
$$
</p>
Giả sử $x, y\in A$ mà $xRy$. Ta có $\left[x\right]_R = \left[y\right]_R$ nên:
<p>
$$
F(x) = G\left(\left[x\right]_R\right) = G\left(\left[y\right]_R\right) = F(y)
$$
</p>
Do đó ánh xạ $F$ tương thích với $R$.

*Tính duy nhất.* Ta có thể viết lại điều kiện của ánh xạ $G$ như sau: $G\circ \pi = F$ trong đó $\pi: A\to A/R$ là phép chiếu chính tắc.

Từ đây, theo tính toàn cấu của phép chiếu chính tắc, ánh xạ $G$ là duy nhất. ***Q.E.D.***

Một cách tương tự, ta có được định lý với tính tương thích mạnh.

<Theorem identifier="5">
  Cho $A, B$ là các tập hợp, $R$ là một quan hệ tương đương trên $A$, và một ánh xạ $F: A\to B$. Khi đó hai điều sau tương đương nhau:
  1. Ánh xạ $F$ tương thích mạnh với $R$.
  2. Tồn tại một đơn ánh $G: A/R\to B$ thỏa mãn với mọi $x\in A$ ta có:
  <p>
  $$
  G\left(\left[x\right]_R\right) = F(x)
  $$
  </p>

  Nếu đơn ánh $G$ nêu trên là tồn tại, nó là tồn tại duy nhất.
</Theorem>

Hai định lý trên cũng nói lên chiều ngược lại của tính tương thích.
Lấy ví dụ, nếu $H$ là một nhóm con của $G$ thì định nghĩa phép toán hai ngôi trên tập thương $G / H$ là xác định tốt khi và chỉ khi $H$ là một nhóm con chuẩn tắc của $G$.
Điều này cho thấy rằng nhóm con chuẩn tắc là điều kiện cần và đủ để xây dựng nên nhóm thương.

Trong một số trường hợp, ta muốn định nghĩa tính tương thích cho một ánh xạ với nhiều tham số đầu vào.
Ví dụ, với $\mathbb{Z}_n$ là tập hợp số nguyên modulo $n$, khi đó ta muốn định nghĩa phép cộng $\mathbb{Z}_n\times \mathbb{Z}_n\to \mathbb{Z}_n$ như sau:
<p>
$$
[a] + [b] = [a + b]
$$
</p>

Giả sử $A$ và $B$ là hai tập hợp, và $R$ và $S$ lần lược là các quan hệ tương đương trên $A$ và $B$.
Khi đó ta có thể định nghĩa một quan hệ tương đương $P$ trên $A\times B$ như sau:
<p>
$$
\left< a, b \right>P\left< c, d \right> \iff aRc \wedge bSd
$$
</p>
Ta thấy rằng lớp tương đương của $\left< a, b \right>$ là $[a]_R\times [b]_S$.

Giả sử ánh xạ $F: A\times B\to C$ tương thích với quan hệ $P$ này.
1. Sử dụng định lý, ta nhận được một ánh xạ $G^{\star}: (A\times B) / P \to C$.
2. Quy tắc $\left< [a]_R, [b]_S \right> \mapsto [a]_R\times [b]_S$ xác định một ánh xạ từ $A/R\times B/S$ vào tập thương $(A \times B) / P$.
3. Do đó ta có một ánh xạ $G: A/R\times B/S \to C$ có tính chất được mong đợi:
<p>
$$
G\left([a]_R, [b]_S\right) = G^{\star}\left([a]_R\times [b]_S\right) = G^{\star}\left([\left< a, b \right>]_P\right) = F(a, b)
$$
</p>

Trong một số trường hợp, ta mong muốn được sử dụng tính tương thích không chỉ trên ánh xạ mà còn trên quan hệ.
Ví dụ, các cặp số tự nhiên có cùng "hiệu" tạo thành một lớp tương đương, mỗi lớp tương đương này là một số nguyên.
Lúc này, ta muốn định nghĩa thứ tự trên tập hợp số nguyên bởi:
<p>
$$
\left[\left< a, b \right>\right] < \left[\left< c, d \right>\right] \iff a + d < c + b
$$
</p>

May mắn thay, ta có một công cụ để có thể biến đổi một quan hệ trở thành thành một ánh xạ và ngược lại.
Đặt $\mathbf{T} = \left\{0, 1\right\}$ với $0 = \varnothing$ và $1 = \left\{0\right\}$, ta có $0\ne 1$.

<Theorem identifier="6">
  Với mọi tập hợp $A$, ánh xạ $c: \mathcal{P}(A)\to \mathbf{T}^A$ được xác định bởi
  <p>
  $$
  c(B) = \left(B\times \{0\}\right) \cup \left(\left(A - B\right)\times \{1\}\right)
  $$
  </p>
  là một song ánh. Nói cách khác, mọi tập hợp con $B$ của $A$ đều tương ứng một-một với một ánh xạ $c_B: A\to \mathbf{T}$ mà với mọi $a\in A$ ta có:
  <p>
  $$
  c_B(a) = \begin{cases}
  0 & \text{, if }a\in B \\
  1 & \text{, otherwise}
  \end{cases}
  $$
  </p>
</Theorem>

Một quan hệ $P$ là một tập hợp con của một tích Cartesian $A\times B$ nào đó.
Khi đó ta biểu diễn $P$ bằng một ánh xạ $c_P: A\times B\to \mathbf{T}$ và ta có thể áp dụng [định lý 4](#theorem-4) để nhận được một ánh xạ $c_Q: A/R\times B/S\to \mathbf{T}$.
Ánh xạ trên tương ứng với quan hệ $Q\subseteq A/R\times B/S$ có tính chất được mong đợi:
<p>
$$
aPb \iff c_P(a, b) = 0 \iff c_Q\left([a]_R, [b]_S\right) = 0 \iff [a]_R Q [b]_S
$$
</p>